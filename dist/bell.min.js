const bIcons={promise:'<svg xmlns="http://www.w3.org/2000/svg" width=40 height=40 viewBox="0 0 200 200"><radialGradient id="a" cx=".66" fx=".66" cy=".313" fy=".313" gradientTransform="scale(1.5)"><stop offset="0" stop-color="currentColor"/><stop offset=".3" stop-color="currentColor" stop-opacity=".9"/><stop offset=".6" stop-color="currentColor" stop-opacity=".6"/><stop offset=".8" stop-color="currentColor" stop-opacity=".3"/><stop offset="1" stop-color="currentColor" stop-opacity="0"/></radialGradient><circle transform-origin="center" fill="none" stroke="url(#a)" stroke-width="15" stroke-linecap="round" stroke-dasharray="200 1000" cx="100" cy="100" r="70"><animateTransform type="rotate" attributeName="transform" calcMode="spline" dur="2" values="360;0" keyTimes="0;1" keySplines="0 0 1 1" repeatCount="indefinite"/></circle><circle transform-origin="center" fill="none" opacity=".2" stroke="currentColor" stroke-width="15" stroke-linecap="round" cx="100" cy="100" r="70"/></svg>',info:'<svg width="40" height="40" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"/></svg>',error:'<svg width="40" height="40" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M256 42.667c117.803 0 213.333 95.53 213.333 213.333S373.803 469.333 256 469.333 42.667 373.803 42.667 256 138.197 42.667 256 42.667Zm48.917 134.25L256 225.835l-48.917-48.918-30.166 30.166L225.835 256l-48.918 48.917 30.166 30.166L256 286.165l48.917 48.918 30.166-30.166L286.165 256l48.918-48.917-30.166-30.166Z" fill-rule="evenodd"/></svg>',warning:'<svg width="40" height="40" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M30.555 25.219 18.036 3.783a2.675 2.675 0 0 0-3.782 0L1.734 25.219a2.674 2.674 0 0 0 0 3.781h28.82a2.671 2.671 0 0 0 .001-3.781zM14.992 11.478a1.5 1.5 0 1 1 3 0v7a1.5 1.5 0 0 1-3 0v-7zm1.509 13.508a1.5 1.5 0 1 1-.001-2.999 1.5 1.5 0 0 1 .001 2.999z"/></svg>',success:'<svg width="40" height="40" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"/></svg>'},bellState={num:0,distance:{x:30,y:30},gap:15,maxHeight:1e3},_$=t=>document.querySelector(t),_$$=t=>document.querySelectorAll(t),$create=t=>document.createElement(t);class Bell{$bellContainer;$bellNums;$bellParent;timer;constructor(t,e,s={}){this.text=t,this.type=e;const{animate:i=!0,isColored:l=!0,transitionDuration:n=300,position:o="bottom-right",typeAnimation:a="ease-in",screenTime:r=3e3,expand:h=!1,theme:c="default",customClass:b,customStyles:p,customIcon:d,customHTML:m,timeline:$,removeOn:u,distance:g,gap:y}=s;this.transitionDuration=n??300,this.position=o.split("-"),this.classPosition=this.position.join("."),this.screenTime=r,this.expand=h,this.theme="default"!==s?.theme&&s?.theme,this.customClass=b,this.isColored=l,this.styles=p,this.timeline=$?"timeline":"",this.removeEvent=u,bellState.distance.x=g?.x??bellState.distance.x,bellState.distance.y=g?.y??bellState.distance.y,bellState.gap=y??bellState.gap,this.$bellContainer=$create("li");const C=["b_c",...this.position];this.$bellIcon=$create("span"),this.type&&"none"!=this.type&&""!=d||(this.$bellIcon.style.display="none"),this.$bellTextContainer=$create("div"),this.$bellTextContainer.classList.add("b_t-c");[this.isColored&&this.type,this.theme,this.customClass,this.timeline].forEach((t=>t&&C.push(t))),this.$bellContainer.classList.add(...C,a),this.$bellIcon.classList.add("b_i"),this.$bellIcon.innerHTML=d??bIcons[this.type]??"";const x=Object.keys(this.text).filter((t=>t)).map((t=>{const e=t[0].toUpperCase()+t.substring(1);return this[`$bell${e}`]=$create("description"==t?"p":"h3"),this[`$bell${e}`].classList.add("description"==t?"b_d":"b_t"),this[`$bell${e}`].textContent=this.text[t],this[`$bell${e}`]}));if(this.$bellTextContainer.append(...x),this.$bellContainer.append(this.$bellIcon,this.$bellTextContainer),this.$bellContainer.setAttribute("bell-num",bellState.num++),this.$bellContainer.style.transition=`${this.transitionDuration}ms ease all`,i||[this.$bellContainer,this.$bellTextContainer].forEach((t=>t.style.transition="none")),this.$bellParent=_$(`.b_p.${this.classPosition}`),this.$bellParent||(this.$bellParent=$create("ol"),this.$bellParent.classList.add("b_p"),document.body.append(this.$bellParent)),this.expand&&this.$bellParent.classList.add("expand"),p){Object.keys(p).forEach((t=>{const e="container"==t?this.$bellContainer:"title"==t?this.$bellTitle:"description"==t?this.$bellDescription:this.$bellIcon.querySelector("svg");e&&Object.entries(p[t]).forEach((([t,s])=>{e.style.setProperty(t,s),"--b_w"==t&&this.$bellParent.style.setProperty(t,s)}))}))}m&&(this.$bellContainer.innerHTML=m),this.$bellParent.classList.add(...this.position),this.$bellParent.append(this.$bellContainer),this.$bellParent.style.setProperty("--b_x",bellState.distance.x+"px")}promise(t,e){this.$bellContainer.classList.remove(this.type),this.$bellContainer.classList.add("pending");const s=$create("h3"),i=$create("span");i.classList.add("promise"),i.innerHTML=bIcons.promise,this.$bellIcon.append(i),s.classList.add(["b_t_p"]),this.$bellTextContainer.querySelector(".b_d")?.remove(),this.$bellTextContainer.append(s),s.textContent=e.pending,this.launch(!0),t.then((()=>{this.#t("success",this.$bellNums,e)})).catch((t=>{this.#t("error",this.$bellNums,e)}))}#t(t,e,s){this.$bellIcon.innerHTML=bIcons[t],this.isColored&&this.$bellContainer.classList.add(t),this.$bellContainer.classList.remove("pending"),this.$bellContainer.classList.add("complete"),this.$bellTitle.textContent=s[t],this.timeline&&this.#e(),this.timer=setTimeout((()=>{this.dismiss(e)}),this.screenTime)}#e(){this.$bellContainer.classList.add("init_count"),this.$bellContainer.style.setProperty("--t_an",this.screenTime+"ms")}setPositions(t,e){const{length:s}=t,i=[...t].reverse(),l=i[0];let n=1,o=bellState.distance.y;if(i.length<1)return;let a=l.className.includes("top")?"top":"bottom";l.className.includes("left");i.forEach(((t,e)=>{t.style.scale=n,t.style[a]=o+"px",e<2&&(n=(1-.06*(e+1)).toFixed(2),o+=bellState.gap)}));let r=bellState.distance.y;i&&l&&(bellState.maxHeight=l?.getAttribute("bell-height")),i.forEach(((t,e)=>{t.style.height=`${bellState.maxHeight}px`,r+=e>0?Number(i[e-1]?.getAttribute("bell-height"))+15:0,t.style.setProperty("--top",`${r}px`),this.$bellParent.style.setProperty("--height-parent",`${r}px`)}))}launch(t){const{height:e}=this.$bellContainer.getBoundingClientRect();this.$bellContainer.setAttribute("bell-height",e),this.$bellContainer.style.setProperty("--b_h",e+"px"),setTimeout((()=>{if("click"==this.removeEvent&&this.$bellContainer.addEventListener("click",this.dismiss.bind(this)),"button"==this.removeEvent){const t=$create("button");t.className="b_close",t.innerHTML='<svg width="40" height="40" viewBox="-3.5 0 19 19" xmlns="http://www.w3.org/2000/svg"><path d="M11.383 13.644A1.03 1.03 0 0 1 9.928 15.1L6 11.172 2.072 15.1a1.03 1.03 0 1 1-1.455-1.456l3.928-3.928L.617 5.79a1.03 1.03 0 1 1 1.455-1.456L6 8.261l3.928-3.928a1.03 1.03 0 0 1 1.455 1.456L7.455 9.716z"/></svg>\n',this.$bellContainer.appendChild(t),t.addEventListener("click",this.dismiss.bind(this))}this.$bellNums=_$$(`.b_c.${this.classPosition}`),this.setPositions(this.$bellNums),this.$bellContainer.classList.add("active"),t||(this.timeline&&this.#e(),this.timer=setTimeout((()=>{this.dismiss(this.$bellNums)}),this.screenTime))}),100)}dismiss(){clearTimeout(this.timer),this.$bellNums=_$$(`.b_c.active.${this.classPosition}`);let t=[...this.$bellNums].filter((t=>t.getAttribute("bell-num")!==this.$bellContainer.getAttribute("bell-num")));this.$bellContainer.classList.remove("active"),this.setPositions(t),this.$bellContainer.className.includes("top")?this.$bellContainer.style.top="-75px":this.$bellContainer.style.bottom="-75px",setTimeout((()=>{this.$bellContainer.remove(),0===_$$(`.b_c.${this.classPosition}`).length&&(this.$bellParent.remove(),bellState.num=0)}),this.transitionDuration)}}
//# sourceMappingURL=bell.min.js.map
