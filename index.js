import"./bell.css";const e={info:'<svg width="20px" height="20px" class="bell" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12 8V8.5M12 12V16M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z" class="bell-path" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>',error:'<svg width="20px" height="20px" class="bell" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <g id="Page-1" stroke="none" stroke-width="1" class="bell-path" fill="none" fill-rule="evenodd">\n      <g id="add" fill="currentColor" class="bell-path" transform="translate(42.666667, 42.666667)">\n          <path class="bell-path" d="M213.333333,3.55271368e-14 C331.136,3.55271368e-14 426.666667,95.5306667 426.666667,213.333333 C426.666667,331.136 331.136,426.666667 213.333333,426.666667 C95.5306667,426.666667 3.55271368e-14,331.136 3.55271368e-14,213.333333 C3.55271368e-14,95.5306667 95.5306667,3.55271368e-14 213.333333,3.55271368e-14 Z M213.333333,42.6666667 C119.232,42.6666667 42.6666667,119.232 42.6666667,213.333333 C42.6666667,307.434667 119.232,384 213.333333,384 C307.434667,384 384,307.434667 384,213.333333 C384,119.232 307.434667,42.6666667 213.333333,42.6666667 Z M262.250667,134.250667 L292.416,164.416 L243.498667,213.333333 L292.416,262.250667 L262.250667,292.416 L213.333333,243.498667 L164.416,292.416 L134.250667,262.250667 L183.168,213.333333 L134.250667,164.416 L164.416,134.250667 L213.333333,183.168 L262.250667,134.250667 Z" id="error">\n\n</path>\n      </g>\n  </g>\n</svg>',warning:'<svg width="20px" height="20px" class="bell"  viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <circle cx="12" cy="17" r="1" fill="currentColor" class="bell-path"/>\n  <path class="bell-path" d="M12 10L12 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n  <path class="bell-path" d="M3.44722 18.1056L10.2111 4.57771C10.9482 3.10361 13.0518 3.10362 13.7889 4.57771L20.5528 18.1056C21.2177 19.4354 20.2507 21 18.7639 21H5.23607C3.7493 21 2.78231 19.4354 3.44722 18.1056Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>',check:'<svg width="20px" height="20px" class="bell"  viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path class="bell-path" d="M16 3.93552C14.795 3.33671 13.4368 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 11.662 20.9814 11.3283 20.9451 11M21 5L12 14L9 11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>'},t={timeScreen:null,position:null,num:0,withDescription:!1,timeBetween:0};export default class{$bellContainer;$bellNums;constructor(l,s,i){this.text=l,this.type=s,this.animate=i?.animate??!1,this.isColored=i?.isColored??!1,this.transitionDuration=i?.transitionDuration??300,this.position=t.position??i?.position??"bottom-right",this.typeAnimation=i?.typeAnimation??"fade-in",this.timeScreen=t.timeScreen??i?.timeScreen??3e3,this.expand=i?.expand??!1,t.timeScreen||(t.timeScreen=this.timeScreen),t.position||(t.position=this.position),this.$bellContainer=document.createElement("div");const n=["bell_container",this.position],o=document.createElement("span"),r=document.createElement("div"),a=document.createElement("h3"),c=[];if(r.classList.add("bell_text-container"),this.isColored&&n.push(s),this.$bellContainer.classList.add(...n),this.$bellContainer.classList.add(this.typeAnimation),o.classList.add("bell_icon"),o.innerHTML=e[this.type],a.classList.add("bell_title"),a.textContent=this.text.title??"Text here",c.push(a),this.text.description||t.withDescription){t.withDescription=!0;const e=document.createElement("p");e.classList.add("bell_description"),e.textContent=this.text.description??"Text here...",c.push(e)}r.append(...c),this.$bellContainer.append(o,r),this.$bellContainer.setAttribute("bell-num",t.num++),this.animate||(this.$bellContainer.style.transition="none"),document.querySelector("body").append(this.$bellContainer),t.timeBetween=Number((document.querySelectorAll(".bell_container").length-1).toString()+"0"),this.$bellContainer.style.transitionDuration=`${this.transitionDuration}ms`,this.$bellContainer.style.transitionDelay=`${t.timeBetween}ms`}hover(e){const{fromElement:t,target:l}=e,s="bell_container"===t?.classList[0]||"active"===t?.classList[0]||"bell_text-container"===t?.classList[0]||"bell_title"===t?.classList[0]||"bell_description"===t?.classList[0]||"bell_svg"===t?.classList[0]||"bell-path"===t?.classList[0]||"bell_icon"===t?.classList[0]||"bell"===t?.classList[0];if(this.$bellNums=document.querySelectorAll(".bell_container"),s)for(let e=0;e<this.$bellNums.length;e++)this.$bellNums[e].classList.add("hover");else if("bell_container"!==l.classList[0])for(let e=0;e<this.$bellNums.length;e++)this.$bellNums[e].classList.remove("hover")}setPositions(e,t){const l=t&&this.$bellNums.length>2?this.$bellNums[this.$bellNums.length-3]:this.$bellNums[this.$bellNums.length-1].previousElementSibling;l?.className.includes("active")&&(l.style.scale=".94");let s=e[e.length>1?e.length-1:0];if(s=s??document.querySelector(".bell_container"),s&&(s.style.scale="1"),l?.className.includes("top-left")||l?.className.includes("top-right")?(l.style.top="44px",s.style.top="30px"):l?.className.includes("bell_container")&&s&&(l.className.includes("bell_container"),l.style.bottom="44px",s.style.bottom="30px"),this.$bellNums.length>2){const e=l?.previousElementSibling;e?.className.includes("bell_container")&&(e.style.scale=".88"),(l?.className.includes("top-right")||l?.className.includes("top-left"))&&e?.className.includes("bell_container")&&(e.style.top="57px"),(l?.className.includes("bottom-left")||l?.className.includes("bottom-right"))&&e?.className.includes("bell_container")&&(e.style.bottom="57px")}let i=30;[...e].reverse().forEach(((e,t)=>{i+=t>0?e.clientHeight+15:0,e.style.setProperty("--top",`${i}px`),e.className.includes("hover")&&this.$bellContainer.classList.add("hover")}))}removeOnClick(){this.$bellNums=document.querySelectorAll(".bell_container");const e=[...this.$bellNums].filter((e=>e.getAttribute("bell-num")!==this.$bellContainer.getAttribute("bell-num")));this.removeOfScreen(e)}launch(){setTimeout((()=>{this.$bellContainer.addEventListener("click",this.removeOnClick.bind(this));let e=this.timeScreen;this.$bellNums=document.querySelectorAll(".bell_container"),this.setPositions(this.$bellNums),this.$bellContainer.classList.add("active"),this.expand?document.body.addEventListener("mouseover",this.hover):this.$bellNums.forEach((e=>e.classList.add("hover")));setTimeout((()=>{this.removeOfScreen(this.$bellNums)}),e)}),80)}removeOfScreen(e){this.$bellContainer.classList.remove("active"),e=Array.from(e).filter((e=>e.className.includes("active"))),this.setPositions(e,e!==this.$bellNums),(this.$bellContainer.className.includes("top-left")||this.$bellContainer.className.includes("top-right"))&&(this.$bellContainer.style.top="-75px"),(this.$bellContainer.className.includes("bottom-left")||this.$bellContainer.className.includes("bottom-right"))&&(this.$bellContainer.style.bottom="-75px"),setTimeout((()=>{this.$bellContainer.remove(),this.expand&&this.$bellNums===e&&document.body.removeEventListener("mouseover",this.hover),0===document.querySelectorAll(".bell_container").length&&(document.body.removeEventListener("mouseover",this.hover),t.position=null,t.timeScreen=null,t.withDescription=!1)}),this.transitionDuration+t.timeBetween)}}
